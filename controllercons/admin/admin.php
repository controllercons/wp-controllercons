<?php
function controllercons_add_menu()
{
	add_menu_page(
		__( "Controllercons Settings", 'controllercons' ),
		__( "Controllercons", 'controllercons' ),
		'manage_options',
		'controllercons-settings',
		'controllercons_settings',
		'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MDAgNTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MDAgNTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cgkuc3Qxe29wYWNpdHk6MC41O2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00ODIuMywxNDcuOWMtMTEuOC0yNS40LTI4LjctNDQuOS01MC44LTU4LjdDNDA5LjUsNzUuNSwzODQsNjguNiwzNTUsNjguNmMtMzksMC03MC4zLDEwLjYtOTQuMSwzMS43CgljLTIuNywyLjQtNy4zLDcuMi0xMSwxMS4zYy0zLjctNC4xLTguMy04LjktMTAuOS0xMS4zYy0yMy44LTIxLjEtNTUuMS0zMS43LTk0LjEtMzEuN2MtMjguOSwwLTU0LjQsNi45LTc2LjUsMjAuNgoJYy0yMi4xLDEzLjctMzksMzMuMy01MC44LDU4LjdDNS45LDE3My4zLDAsMjAyLjYsMCwyMzUuOXYzM2MwLDMyLjUsNi41LDYxLDE4LjIsODUuNmMxMS42LDI0LjYsMjguMiw0My41LDQ5LjYsNTYuOQoJYzIxLjQsMTMuMyw0Ni4yLDIwLDc0LjMsMjBjNDAuMywwLDcyLjUtMTAuNiw5Ni43LTMxLjZjMy4zLTIuOSw3LjgtNy41LDExLjItMTEuM2MzLjYsNCw4LjIsOC44LDExLjIsMTEuMwoJYzI0LjIsMjEuMSw1Ni41LDMxLjYsOTYuOCwzMS42YzI4LjEsMCw1Mi45LTYuNyw3NC4zLTIwYzIxLjQtMTMuMywzNy45LTMyLjMsNDkuNi01Ni45YzExLjYtMjQuNiwxOC4yLTUzLjEsMTguMi04NS42di0zMwoJQzUwMCwyMDIuNiw0OTQuMSwxNzMuMyw0ODIuMywxNDcuOXogTTI5My4zLDE0Ny4yYzIuOC00LjcsNS45LTguOCw5LjUtMTIuMmMxMS45LTExLjIsMjkuMy0xNi44LDUyLjMtMTYuOGMyNi43LDAsNTQsOS44LDY4LjMsMjkuMgoJYzE0LjMsMTkuNSwyMS45LDQ4LjEsMjEuOSw4NS44djMxLjNjMCwzOC4yLTYuOCw2Ny4zLTIwLjQsODcuNGMtMTMuNywyMC4xLTQwLjUsMzAuMS02Ni45LDMwLjFjLTI0LjEsMC00Mi4yLTUuNC01NC4zLTE2LjIKCWMtMTIuMS0xMC44LTE5LjgtMjguOS0yMy01NC4xbC02MS4yLTAuMWMwLDAuMSwwLDAuMiwwLDAuM2MtMy4zLDI1LjEtMTAuOSw0My4xLTIzLDUzLjljLTEyLjEsMTAuOC0zMC4yLDE2LjItNTQuMywxNi4yCgljLTI2LjQsMC01My4yLTEwLTY2LjktMzAuMWMtMTMuNy0yMC4xLTIwLjUtNDkuMi0yMC41LTg3LjR2LTMxLjNjMC0zNy43LDcuNi02Ni4zLDIxLjktODUuOGMxNC4zLTE5LjUsNDEuNy0yOS4yLDY4LjMtMjkuMgoJYzIyLjksMCw0MC40LDUuNiw1Mi4yLDE2LjhjMy42LDMuNCw2LjcsNy41LDkuNSwxMi4yTDI5My4zLDE0Ny4yTDI5My4zLDE0Ny4yeiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjcwLjgsMTQ3LjFjLTUuMS0xMy40LTEyLTI1LjItMjAuOC0zNS41Yy04LjcsMTAuMy0xNS42LDIyLjEtMjAuOCwzNS41QzIyOS4yLDE0Ny4xLDI3MC44LDE0Ny4xLDI3MC44LDE0Ny4xegoJIi8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMTkuNSwzMTEuNmMzLDMxLjQsMTMuMiw1Ni45LDMwLjUsNzYuN2MxNy4zLTE5LjksMjcuNS00NS40LDMwLjUtNzYuN0gyMTkuNXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE4Ny45LDI0Mi41YzAtMy44LTMuMS02LjktNi45LTYuOWgtMTkuNWMtMy44LDAtNi45LTMuMS02LjktNi45di0xOS41YzAtMy44LTMuMS02LjktNi45LTYuOWgtMTUKCWMtMy44LDAtNi45LDMuMS02LjksNi45djE5LjVjMCwzLjgtMy4xLDYuOS02LjksNi45SDk5LjRjLTMuOCwwLTYuOSwzLjEtNi45LDYuOXYxNWMwLDMuOCwzLjEsNi45LDYuOSw2LjloMTkuNQoJYzMuOCwwLDYuOSwzLjEsNi45LDYuOXYxOS41YzAsMy44LDMuMSw2LjksNi45LDYuOWgxNWMzLjgsMCw2LjktMy4xLDYuOS02Ljl2LTE5LjVjMC0zLjgsMy4xLTYuOSw2LjktNi45SDE4MQoJYzMuOCwwLDYuOS0zLjEsNi45LTYuOUwxODcuOSwyNDIuNUwxODcuOSwyNDIuNXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM0OC44LDI1MGMwLDEyLjYtMTAuMiwyMi44LTIyLjcsMjIuOGMtMTIuNiwwLTIyLjctMTAuMi0yMi43LTIyLjhjMC0xMi42LDEwLjItMjIuOCwyMi43LTIyLjgKCUMzMzguNiwyMjcuMywzNDguOCwyMzcuNCwzNDguOCwyNTB6Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTYuMiwyNTBjMCwxMi42LTEwLjIsMjIuOC0yMi43LDIyLjhjLTEyLjYsMC0yMi44LTEwLjItMjIuOC0yMi44YzAtMTIuNiwxMC4yLTIyLjgsMjIuOC0yMi44CglDNDA2LDIyNy4zLDQxNi4yLDIzNy40LDQxNi4yLDI1MHoiLz4KPC9zdmc+Cg==',
			90
		);
		
		add_action( 'admin_init', 'controllercons_register_settings' );
}
add_action( 'admin_menu', 'controllercons_add_menu' );

function controllercons_register_settings()
{
	register_setting( 'controllercons-globals', 'minify' );
}

function controllercons_settings()
{
	?>
	<div class="wrap">
		<h1>Controllercons</h1>

		<form method="post" action="options.php">
			<?php settings_fields( 'controllercons-globals' ); ?>
			<?php do_settings_sections( 'controllercons-globals' ); ?>
			<table class="form-table">
				<tr valign="top">
					<th scope="row">New Option Name</th>
					<td>
						<input type="text" name="minify" value="<?php echo esc_attr( get_option ( 'minify' ) ); ?>" />
					</td>
				</tr>
			</table>

			<?php submit_button(); ?>
		</form>
	</div>
	<?php
}